{
    "contents" : "---\noutput: html_document\n---\nThis script will read in the existing Bear Est data and compare them, using a bwplot. \n(1/21/16)\n\n```{r message=FALSE}\nlibrary(mosaic)\n\nBearEst<-read.csv(\"../data/SubsamplingData/FinalBearEst.csv\")\ncolnames(BearEst)<-c(\"SubID\", \"densEstimate\", \"ucl\", \"lcl\", \"Subtype\", \"Model\")\n```\n\nNumber of Observations for each subtype X model. As of 1/21, there are ~16 for each. \nAs of 1/22, almost 25 for each. 100 should be attainable by around the 30th of Jan. \n\n```{r }\ntally(Subtype~Model, data=BearEst)\n```\n\nADD IN FULL MODEL VALUES HERE\n\n```{r }\nFullModels<-read.csv(\"VerificationObjects/FullModels.csv\")\nfullModel<-FullModels[,1]\nnames(fullModel)<-c(\"Model A\", \"Model B\", \"Model C\", \"Model D\", \"Model E\")\n```\n\nA box-whisker plot function to streamline the process for each model. \n\n```{r }\nBearBWplot<-function(model=\"Model A\"){\n  ggplot(filter(BearEst, Model==model), aes(x=Subtype, y=densEstimate))+\n    geom_boxplot() +\n    ylab(\"Density Estimate (Bears per Sq Mile)\")+\n    ggtitle(model) +\n    geom_hline(yintercept=fullModel[model], col=\"red\") \n    }\n```\n\nTreating all models the same, how does the subtype affect estimate\n\n```{r }\nggplot(BearEst, aes(x=Subtype, y=densEstimate))+\n  geom_boxplot() +\n  ylab(\"Density Estimate (Bears per Sq Mile)\")+\n  ggtitle(\"All Models\")\n```\n\nConstructing a bwplot to see the difference between the different subtypes for each model\n\n```{r }\nBearBWplot(\"Model A\")\nBearBWplot(\"Model B\")\nBearBWplot(\"Model C\")\nBearBWplot(\"Model D\")\nBearBWplot(\"Model E\")\n```\n\nLook at the residuals between the full model and the means of the subtypes. First in a table...\n\n```{r }\n\nResidTable<-as.data.frame(matrix(ncol=5, nrow=6))\ncolnames(ResidTable)<-c(\"Model\", \"SimpleRandom\", \"Spread.one\", \"Spread.two\", \"Stratified\")\nResidTable[1,] <- c(\"Model A\",mean(densEstimate~Subtype, data=filter(BearEst, Model==\"Model A\")) - fullModel[\"Model A\"])\nResidTable[2,] <- c(\"Model B\",mean(densEstimate~Subtype, data=filter(BearEst, Model==\"Model B\")) - fullModel[\"Model B\"])\nResidTable[3,] <- c(\"Model C\",mean(densEstimate~Subtype, data=filter(BearEst, Model==\"Model C\")) - fullModel[\"Model C\"])\nResidTable[4,] <- c(\"Model D\",mean(densEstimate~Subtype, data=filter(BearEst, Model==\"Model D\")) - fullModel[\"Model D\"])\nResidTable[5,] <- c(\"Model E\",mean(densEstimate~Subtype, data=filter(BearEst, Model==\"Model E\")) - fullModel[\"Model E\"])\nResidTable[6,] <- c(\"All Mod\",mean(densEstimate~Subtype, data=BearEst) - mean(fullModel))\nResidTable\n```\n\n.. Then in Bargraphs.\n```{r }\nBearResid<-function(model=\"Model A\"){\n  resids<-mosaic::mean(densEstimate~Subtype, data=filter(BearEst, Model==model))-fullModel[model]\n  barplot(resids, ylim=c(-1,1))\n}\nBearResid(\"Model A\")\nBearResid(\"Model B\")\nBearResid(\"Model C\")\nBearResid(\"Model D\")\nBearResid(\"Model E\")\n```\n\nAnother useful look at the data: ANOVA to see if the estimates are significantly\ndifferent from one another\n\n```{r }\nbearmod<-lm(densEstimate~Subtype, data=BearEst)\nAnova(bearmod)\n```\n\nNow by model - Interesting, they are only significantly different in A, C, E (as of\n1/22/16) and those are the three that have behavior as a parameter for g0!\n\n```{r }\nAnova(lm(densEstimate~Subtype, data=filter(BearEst, Model==\"Model A\")))\nAnova(lm(densEstimate~Subtype, data=filter(BearEst, Model==\"Model B\")))\nAnova(lm(densEstimate~Subtype, data=filter(BearEst, Model==\"Model C\")))\nAnova(lm(densEstimate~Subtype, data=filter(BearEst, Model==\"Model D\")))\nAnova(lm(densEstimate~Subtype, data=filter(BearEst, Model==\"Model E\")))\n```\n\n\n\n",
    "created" : 1453837523203.000,
    "dirty" : false,
    "encoding" : "UTF-8",
    "folds" : "",
    "hash" : "1872361519",
    "id" : "A3DF4CCE",
    "lastKnownWriteTime" : 1453839269,
    "path" : "~/Google Drive/spatialMR/Rscripts/EstimateSummary.Rmd",
    "project_path" : "EstimateSummary.Rmd",
    "properties" : {
    },
    "relative_order" : 1,
    "source_on_save" : false,
    "type" : "r_markdown"
}