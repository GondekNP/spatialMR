source('~/Google Drive/spatialMR/Rscripts/Simulation/Spatial.R')
source('~/Google Drive/spatialMR/Rscripts/Simulation/Spatial.R')
bear.setup()
setwd("~/Google Drive/spatialMR/data/SimulationData/t1/g0 tilde b")
tetSpr<-readRDS("Spread.one10062.rds")
tstSpr
tetSpr
tetSpr$fullsamps
tetSpr$subsamps
nro(tetSpr$subsamps)
nrow(tetSpr$subsamps)
bear.setup
sim.bear
secr.from.samples
get.rds.starts
bear.init
bear.setup
source('~/Google Drive/spatialMR/Rscripts/Simulation/RescueSpatail.R')
bear.setup()
source('~/Google Drive/spatialMR/Rscripts/Simulation/RescueSpatail.R')
bear.setup()
?registerDoParallel
Sys.time()
?broom
for(j in c("t1","t2","t3","t4","t5","t6")){
for (k in c("g0 tilde b")){
path<-paste("~/Google Drive/spatialMR/data/SimulationData/", j, "/", k, sep="", collapse="")
files<-list.files(path)
print(path)
whichDesktop<-which(files=="desktop.ini")
whichIcon<-which(files=="Icon\r")
files<-files[-c(whichDesktop, whichIcon)]
files<-paste(path, files, sep="/")
}
}
for(j in c("t1","t2","t3","t4","t5","t6")){
for (k in c("g0 tilde b")){
path<-paste("~/Google Drive/spatialMR/data/SimulationData/", j, "/", k, sep="", collapse="")
files<-list.files(path)
whichDesktop<-which(files=="desktop.ini")
whichIcon<-which(files=="Icon\r")
files<-files[-c(whichDesktop, whichIcon)]
files<-paste(path, files, sep="/")
print(head(files))
}
}
for(j in c("t1","t2","t3","t4","t5","t6")){
for (k in c("g0 tilde b")){
path<-paste("~/Google Drive/spatialMR/data/SimulationData/", j, "/", k, sep="", collapse="")
files<-list.files(path)
whichDesktop<-which(files=="desktop.ini")
whichIcon<-which(files=="Icon\r")
files<-files[-c(whichDesktop, whichIcon)]
files<-paste(path, files, sep="/")
print(head(files))
}
}
library(secr)
tetSpr
tetSpr$N
tetSpr$proctime
install.packages("broom")
library(broom)
tidy(tetSpr)
tetSpr
region.N(tetSpr)
?region.N
region.N(tetSpr)[1,1]
(!duplicated(tetSpr$subsamps$INDuniqID))
tetSpr$subsamps$INDuniqID
(!duplicated(tetSpr$subsamps$INDuniqID))
length(!duplicated(tetSpr$subsamps$INDuniqID))
length(!duplicated(tetSpr$fullsamps$INDuniqID))
tetSpr$fullsamps$INDuniqID
fileSpl
fileSplit<-strsplit("~/Google Drive/spatialMR/data/SimulationData/t3/g0 tilde b/SimpleRandom10002.rds")
fileSplit<-strsplit("~/Google Drive/spatialMR/data/SimulationData/t3/g0 tilde b/SimpleRandom10002.rds", split = "")
fileSplit
fileSplit[[1]]
fileSplit<-fileSplit[[1]]
as.numeric(paste(fileSplit[(length(fileSplit) - 8):(length(fileSplit) - 4)]))
as.numeric(paste(fileSplit[(length(fileSplit) - 8):(length(fileSplit) - 4)]), sep="", col="")
as.numeric(paste(fileSplit[(length(fileSplit) - 8):(length(fileSplit) - 4)]), sep="", collapse="")
as.numeric(paste(fileSplit[(length(fileSplit) - 8):(length(fileSplit) - 4)]), sep="", collapse="")*1
as.numeric(paste(fileSplit[(length(fileSplit) - 8):(length(fileSplit) - 4)]), sep="", collapse="")*2
as.numeric(paste(fileSplit[(length(fileSplit) - 8):(length(fileSplit) - 4)]), sep="", collapse="")
paste(fileSplit[(length(fileSplit) - 8):(length(fileSplit) - 4)]), sep="", collapse="")
paste(fileSplit[(length(fileSplit) - 8):(length(fileSplit) - 4)], sep="", collapse="")
as.numeric(paste(fileSplit[(length(fileSplit) - 8):(length(fileSplit) - 4)], sep="", collapse=""))
as.numeric(paste(fileSplit[(length(fileSplit) - 20):(length(fileSplit) - 4)], sep="", collapse=""))
paste(fileSplit[(length(fileSplit) - 20):(length(fileSplit) - 4)], sep="", collapse="")
paste(fileSplit[(length(fileSplit) - 20):(length(fileSplit) - 8)], sep="", collapse="")
paste(fileSplit[(length(fileSplit) - 20):(length(fileSplit) - 9)], sep="", collapse="")
paste(fileSplit[(length(fileSplit) - 22):(length(fileSplit) - 9)], sep="", collapse="")
paste(fileSplit[(length(fileSplit) - 22):(length(fileSplit) - 9)], sep="", collapse="")
paste(fileSplit[(length(fileSplit) - 30):(length(fileSplit) - 21)], sep="", collapse="")
paste(fileSplit[(length(fileSplit) - 32):(length(fileSplit) - 22)], sep="", collapse="")
paste(fileSplit[(length(fileSplit) - 31):(length(fileSplit) - 22)], sep="", collapse="")
fileSplit<-strsplit("~/Google Drive/spatialMR/data/SimulationData/t3/g0 tilde b/Spread.one10002.rds", split = "")
simNo<-as.numeric(paste(fileSplit[(length(fileSplit) - 8):(length(fileSplit) - 4)], sep="", collapse=""))
fileSplit
simNo<-as.numeric(paste(fileSplit[(length(fileSplit) - 8):(length(fileSplit) - 4)], sep="", collapse=""))
paste(fileSplit[(length(fileSplit) - 8):(length(fileSplit) - 4)], sep="", collapse="")
fileSplit
fileSplit<-fileSplit[[1]]
simNo<-as.numeric(paste(fileSplit[(length(fileSplit) - 8):(length(fileSplit) - 4)], sep="", collapse=""))
subtype<-paste(fileSplit[(length(fileSplit) - 20):(length(fileSplit) - 9)], sep="", collapse="")
fileSplit<-strsplit("~/Google Drive/spatialMR/data/SimulationData/t3/g0 tilde b/Spread.one10002.rds", split = "/")
fileSplit[[1]]
as.numeric(fileSplit[[1]][8])
as.numeric(strsplit(fileSplit[[1]][1]))
as.numeric(strsplit(fileSplit[[1]][8], split = ""))
strsplit(fileSplit[[1]][8], split = "")
as.numeric(strsplit(fileSplit[[1]][8], split = "")[[1]])
na.omit(as.numeric(strsplit(fileSplit[[1]][8], split = "")[[1]]))
na.omit(as.numeric(strsplit(fileSplit[[1]][8], split = "")[[1]]))[[1]]
na.omit(as.numeric(strsplit(fileSplit[[1]][8], split = "")[[1]]))[1]
library(secr)
compiled<-data.frame()
for(j in c("t1","t2","t3","t4","t5","t6")){
for (k in c("g0 tilde b")){
path<-paste("~/Google Drive/spatialMR/data/SimulationData/", j, "/", k, sep="", collapse="")
files<-list.files(path)
whichDesktop<-which(files=="desktop.ini")
whichIcon<-which(files=="Icon\r")
files<-files[-c(whichDesktop, whichIcon)]
files<-paste(path, files, sep="/")
for (i in length(files)){
newSECR<-readRDS(files[i])
for (i in 1:nrow(newSECR$fullsamps)){
newSECR$fullsamps$uniqueID[i]<-paste(newSECR$fullsamps$Period[i], newSECR$fullsamps$site[i], sep="", collapse="")
newSECR$fullsamps$INDuniqID[i]<-paste(newSECR$fullsamps$Period[i], newSECR$fullsamps$site[i], newSECR$fullsamps$ID[i],sep="", collapse="")
}
#Redundancy info
FullN.notRedun=length(!duplicated(newSECR$fullsamps$INDuniqID))
SubN.notRedun=length(!duplicated(newSECR$subsamps$INDuniqID))
FullProp.notRedun=FullN.notRedun/nrow(newSECR$fullsamps)
SubProp.notRedun=SubN.notRedun/nrow(newSECR$subsamps)
#Nhat info
nhat = region.N(newSECR)[1,1]
nhat.SE = region.N()[1,2]
#Basic info on which trial and subtype that I should have passed thru the functions themselves to model
fileSplit<-strsplit(files[i], split = "/")[[1]]
sim<-fileSplit[8]
model<-fileSplit[7]
trial<-fileSplit[6]
#Compiling
newLine<-data.frame(FullProp.notRedun, FullN.notRedun, SubProp.notRedun, SubN.notRedun, nhat, nhat.SE, sim, model, trial)
compiled<-rbind(compiled, newLine)
}
}
}
source('~/Google Drive/spatialMR/Rscripts/Simulation/SimSummary.R')
debug(compile.secr.results)
compile.secr.results()
files
rnorm(mean = mean(c(156,161)))
rnorm(mean = mean(c(156,161)), n=1)
